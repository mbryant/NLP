package main;
import java.io.IOException;


// basic main method without using the LogLike class to get the log likelihood
// in general: do not use this method for anything meaningful. this is the "scratch" method

public class Main {

	public static void main(String[] args) throws IOException {
		
		// training and test filenames
		String trainingCorpus = "data/trainingEx.txt";
		String testCorpus = "data/testEx.txt";
		
		/* make the bigram trainer, which does these things:
		 * - initializes a wordReader on the arg
		 * - initializes a bigramDictionary
		 * - opens the training file
		 * - goes through the file word by word and inserts every bigram into the bigramDict
		 * - closes the file
		 */		
		BigramTrainer bt = new BigramTrainer(trainingCorpus);
		bt.buildCounts();
		
		int vocabSize = bt.getVocabSize();
		int wordCount = bt.getTotalWordCount();
		
		WordReader wrTest = new WordReader(testCorpus);
		wrTest.openFile();
		String wd1 = null;
		String wd2;
		double LogLikelihood = 0;
		double beta = 1;
		double alpha = 1;
		double probBigram;
		double probUnigram;
		
		if (wrTest.hasNextItem()) {
			wd1 = wrTest.readWord();
		} else {System.out.println("oh no!");}
		
		probUnigram = ((bt.getUnigramCount(wd1) + alpha) / (wordCount + alpha * vocabSize));
		probBigram = (bt.getBigramCount("**STOP**",wd1) + beta * probUnigram) / 
					 (bt.getUnigramCount("**STOP**") + beta);
		LogLikelihood = LogLikelihood + Math.log(probBigram);
		
		while (wrTest.hasNextItem()) {
			
		}
		
		
		
		
		bt.shutter();
		

		
	}
		
}
